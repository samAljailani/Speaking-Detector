const _0x5e3d95=_0x2549;(function(_0x58121b,_0xd6e592){const _0x10473e=_0x2549,_0x5dd39d=_0x58121b();while(!![]){try{const _0x27df0e=parseInt(_0x10473e(0xb9))/0x1*(parseInt(_0x10473e(0xd6))/0x2)+-parseInt(_0x10473e(0xbf))/0x3*(-parseInt(_0x10473e(0xd9))/0x4)+parseInt(_0x10473e(0xbb))/0x5*(parseInt(_0x10473e(0xdd))/0x6)+-parseInt(_0x10473e(0xe3))/0x7+parseInt(_0x10473e(0xbd))/0x8+parseInt(_0x10473e(0xe7))/0x9+-parseInt(_0x10473e(0xdc))/0xa;if(_0x27df0e===_0xd6e592)break;else _0x5dd39d['push'](_0x5dd39d['shift']());}catch(_0x493c8d){_0x5dd39d['push'](_0x5dd39d['shift']());}}}(_0x3e5e,0x7804c));const videoElement=document['getElementsByClassName'](_0x5e3d95(0xbc))[0x0],canvasElement=document['getElementsByClassName']('output_canvas')[0x0],canvasCtx=canvasElement['getContext']('2d'),sampleIntervalDuration=0xc8,cvsExportInterval=0x3e8;let row=[],csvData=[],col=0x0;function _0x3e5e(){const _0x369f5e=['Talking','9115120vTgTAp','854184vQNVJu','rgba(0,\x20255,255,\x200.5)','target','click','drawImage','push','4497605ydsGJO','rgba(0,\x20255,255,\x200.7)','start','_blank','3292272vENfXA','width','toString','342607GauHvT','href','5tWZvTe','input_video','2524896lLsKLI','#00FF00','24MAXazZ','clearRect','length','abs','Not\x20Detected','fill','image','40px\x20Verdana','forEach','font','fillStyle','#000000','setOptions','onResults','map','fillText','send','createElement','height','save','join','restore','getTime','2fRcHcO','https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/','multiFaceLandmarks','439616Favgel','rect'];_0x3e5e=function(){return _0x369f5e;};return _0x3e5e();}const threshold=0.003;let mouthWasMoving=![],mouthIsMoving=![],startCollectingData=![],currentInterval=0x0,currentIntervalData=new Array(),dataPoints=new Array(0x14),isTalking=![],toggleCollection=![];function _0x2549(_0x45c1d8,_0x218872){const _0x3e5e25=_0x3e5e();return _0x2549=function(_0x25491c,_0x4e2b51){_0x25491c=_0x25491c-0xb8;let _0x365ae6=_0x3e5e25[_0x25491c];return _0x365ae6;},_0x2549(_0x45c1d8,_0x218872);}for(let i=0x0;i<0x14;++i){dataPoints[i]=[{},![]];}let speakingFrequency={'maxNumberOfPoints':0xa,'points':dataPoints,'pointsGreaterThanThreshold':0x0,'frontOfQueue':0x0};const faceMesh=new FaceMesh({'locateFile':_0x433261=>{const _0x61f4f0=_0x5e3d95;return _0x61f4f0(0xd7)+_0x433261;}});faceMesh[_0x5e3d95(0xcb)]({'maxNumFaces':0x1,'refineLandmarks':!![],'minDetectionConfidence':0.5,'minTrackingConfidence':0.5,'selfieMode':!![]}),faceMesh[_0x5e3d95(0xcc)](onResults);const camera=new Camera(videoElement,{'onFrame':async()=>{const _0x24b130=_0x5e3d95;await faceMesh[_0x24b130(0xcf)]({'image':videoElement});},'width':0x500,'height':0x2d0});camera[_0x5e3d95(0xe5)]();function onResults(_0x5ab063){const _0x3a6628=_0x5e3d95;canvasCtx[_0x3a6628(0xd2)](),canvasCtx[_0x3a6628(0xc0)](0x0,0x0,canvasElement['width'],canvasElement['height']),canvasCtx[_0x3a6628(0xe1)](_0x5ab063[_0x3a6628(0xc5)],0x0,0x0,canvasElement[_0x3a6628(0xe8)],canvasElement[_0x3a6628(0xd1)]);if(_0x5ab063[_0x3a6628(0xd8)])for(const _0xee0816 of _0x5ab063['multiFaceLandmarks']){currentIntervalData[_0x3a6628(0xe2)](XYZPointDistances(_0xee0816[0xd],_0xee0816[0xe])),currentAudioIntervalData[_0x3a6628(0xe2)](getAudioData()),drawConnectors(canvasCtx,_0xee0816,FACEMESH_LIPS,{'color':mouthIsMoving||mouthWasMoving?_0x3a6628(0xbe):'#E0E0E0'});}if(new Date()[_0x3a6628(0xd5)]()>currentInterval){usermouthIsMoving()?(mouthWasMoving=mouthIsMoving,mouthIsMoving=!![]):(mouthWasMoving=mouthIsMoving,mouthIsMoving=![]);audioHasChanged()?(audioRecentlyChanged=audioChanged,audioChanged=!![]):(audioRecentlyChanged=audioChanged,audioChanged=![]);isTalking=(mouthIsMoving||mouthWasMoving)&&(audioChanged||audioRecentlyChanged);toggleCollection==!![]&&startCollectingData==![]&&(startCollectingData=!![]);if(startCollectingData){let _0x163927=new Date();row['push'](_0x163927[_0x3a6628(0xb8)]()+'\x20'+_0x163927['getMilliseconds']()),row['push'](isTalking?'1':'0'),toggleCollection?row[_0x3a6628(0xe2)](0x1):(row[_0x3a6628(0xe2)](0x0),startCollectingData=![]),csvData[_0x3a6628(0xe2)](row),row=[];}currentInterval=new Date()[_0x3a6628(0xd5)]()+sampleIntervalDuration;}canvasCtx[_0x3a6628(0xda)](0xa,0xa,canvasElement[_0x3a6628(0xe8)]*0.3,0x64),isTalking?(canvasCtx['fillStyle']=_0x3a6628(0xe4),canvasCtx[_0x3a6628(0xc4)](),canvasCtx[_0x3a6628(0xc9)]=_0x3a6628(0xca),canvasCtx[_0x3a6628(0xc8)]=_0x3a6628(0xc6),canvasCtx['fillText'](_0x3a6628(0xdb),0xf,0x46)):(canvasCtx[_0x3a6628(0xc9)]=_0x3a6628(0xde),canvasCtx[_0x3a6628(0xc4)](),canvasCtx[_0x3a6628(0xc9)]=_0x3a6628(0xca),canvasCtx[_0x3a6628(0xc8)]=_0x3a6628(0xc6),canvasCtx[_0x3a6628(0xce)](_0x3a6628(0xc3),0xf,0x46)),canvasCtx[_0x3a6628(0xd4)]();}function distanceBetweenTwoPoints(_0x22b88b,_0x21378e){return Math['sqrt']((_0x22b88b['x']-_0x21378e['x'])**0x2+(_0x22b88b['y']-_0x21378e['y'])**0x2,(_0x22b88b['z']-_0x21378e['z'])**0x2);}function usermouthIsMoving(){let _0x5a23d4=![],_0x99e961=meanCalculator(currentIntervalData),_0x2ce45a=meanAbsoluteDeviation(currentIntervalData,_0x99e961);for(let _0x3f5f67=0x0;_0x3f5f67<0x3;++_0x3f5f67){_0x2ce45a[_0x3f5f67]>=threshold&&(_0x5a23d4=!![]);}return currentIntervalData=[],_0x5a23d4;}function meanCalculator(_0x1798bd){const _0x3062db=_0x5e3d95;let _0xcd4117=0x0,_0x3efedc=0x0,_0x3f1704=0x0;return _0x1798bd[_0x3062db(0xc7)](_0x169659=>{_0xcd4117+=_0x169659['x'],_0x3efedc+=_0x169659['y'],_0x3f1704+=_0x169659['z'];}),[_0xcd4117/_0x1798bd[_0x3062db(0xc1)],_0x3efedc/_0x1798bd[_0x3062db(0xc1)],_0x3f1704/_0x1798bd['length']];}function meanAbsoluteDeviation(_0x2875e4,_0x5daa1c){const _0x24fa1d=_0x5e3d95;let _0x2af8e2=0x0,_0x3dd850=0x0,_0x824516=0x0;return _0x2875e4['forEach'](_0x5ebd4d=>{const _0x1b1b11=_0x2549;_0x2af8e2+=Math[_0x1b1b11(0xc2)](_0x5ebd4d['x']-_0x5daa1c[0x0]),_0x3dd850+=Math[_0x1b1b11(0xc2)](_0x5ebd4d['y']-_0x5daa1c[0x1]),_0x824516+=Math[_0x1b1b11(0xc2)](_0x5ebd4d['z']-_0x5daa1c[0x2]);}),[_0x2af8e2/_0x2875e4[_0x24fa1d(0xc1)],_0x3dd850/_0x2875e4[_0x24fa1d(0xc1)],_0x824516/_0x2875e4[_0x24fa1d(0xc1)]];}function XYZPointDistances(_0x23edbf,_0x3f3004){return{'x':_0x23edbf['x']-_0x3f3004['x'],'y':_0x23edbf['y']-_0x3f3004['y'],'z':_0x23edbf['z']-_0x3f3004['z']};}function exportData(){const _0x1e8104=_0x5e3d95;let _0x192dbe=csvData[_0x1e8104(0xcd)](_0x6533b9=>_0x6533b9['join'](','))[_0x1e8104(0xd3)]('\x0a');var _0x29be4=document[_0x1e8104(0xd0)]('a');_0x29be4[_0x1e8104(0xba)]='data:text/csv;charset=utf-8,'+encodeURI(_0x192dbe),_0x29be4[_0x1e8104(0xdf)]=_0x1e8104(0xe6),_0x29be4['download']='Talking_Data.csv',_0x29be4[_0x1e8104(0xe0)]();}